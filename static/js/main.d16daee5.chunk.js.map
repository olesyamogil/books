{"version":3,"sources":["components/BooksList/BooksList.js","components/AuthorsList/AuthorsList.js","components/CategoriesList/CategoriesList.js","components/Tabs/Tabs.js","components/TabsContent/TabsContent.js","components/BookInfo/BookInfo.js","components/AuthorInfo/AuthorInfo.js","components/BookCatalog/BookCatalog.js","App.js","index.js"],"names":["BooksList","this","props","data","books","authors","categoryIdFilter","match","params","id","filteredBooks","idKey","categoryId","className","Object","keys","map","bookId","key","to","title","authorsIds","authorId","name","Component","AuthorsList","CategoriesList","categories","Tabs","tabs","tab","activeClassName","TabsContent","content","item","path","exact","render","component","BookInfo","shortDescription","AuthorInfo","authorsBooks","includes","push","console","log","biography","BookCatalog","state","isLoading","error","routes","normalizeData","dataArray","dataObject","forEach","getDatafromServer","url","a","async","fetch","then","response","json","loadData","setState","Promise","all","type","onClick","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d16daee5.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BooksList extends Component {\r\n  render() {\r\n    const { books, authors } = this.props.data;\r\n    const categoryIdFilter = +this.props.match.match.params.id;\r\n    let filteredBooks = {};\r\n    if (categoryIdFilter) {\r\n      for (let idKey in books) {\r\n        if (books[idKey].categoryId === categoryIdFilter) {\r\n         filteredBooks[idKey] = books[idKey];\r\n        }\r\n      }\r\n    } else {\r\n      filteredBooks = books;\r\n    }\r\n    return (\r\n      <ol className=\"books-list\">\r\n        {Object.keys(filteredBooks).map(bookId => (\r\n          <li key={bookId}>\r\n            <div className=\"bookCard\">\r\n              <Link to={`/books/${bookId}`}>{filteredBooks[bookId].title}</Link>\r\n              <ul>Authors:\r\n                {\r\n                  filteredBooks[bookId].authorsIds.map(authorId => (\r\n                    <li key={authorId}><Link to={`/authors/${authorId}`}>{authors[authorId].name}</Link></li>\r\n                  ))\r\n                }\r\n              </ul>\r\n\r\n\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksList;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass AuthorsList extends Component {\r\n  render() {\r\n    const { authors } = this.props.data;\r\n\r\n    return (\r\n      <ol className=\"authors-list\">\r\n        {Object.keys(authors).map(authorId => (\r\n          <li key={authorId}><Link to={`authors/${authorId}`}>{authors[authorId].name}</Link></li>\r\n        ))}\r\n      </ol>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthorsList;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass CategoriesList extends Component {\r\n  render() {\r\n    const { categories } = this.props.data;\r\n    return (\r\n      <ol className=\"categories-list\">\r\n        {Object.keys(categories).map(categoryId => (\r\n          <li key={categoryId}><Link to={`categories/${categoryId}`}>{categories[categoryId].name}</Link></li>\r\n        ))}\r\n      </ol>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CategoriesList;\r\n","import React, {Component} from 'react';\r\nimport \"./Tabs.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nclass Tabs extends Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"tabs\">\r\n        {\r\n          this.props.tabs.map(tab => (\r\n            <li key={tab}><NavLink className=\"tab\" activeClassName=\"tab-active\" to={`/${tab}`}>{tab}</NavLink></li>\r\n          ))\r\n        }\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tabs;\r\n","import React, {Component} from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport \"./TabsContent.scss\"\r\n\r\nclass TabsContent extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"tab-content\">\r\n        <Switch>\r\n          {this.props.content.map(item => (\r\n            <Route\r\n              key={item.path}\r\n              exact\r\n              path={item.path}\r\n              render={item.component}\r\n            />\r\n          ))}\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TabsContent;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BookInfo extends Component {\r\n  render() {\r\n    const {id} = this.props.match.match.params;\r\n    const {books, authors, categories} = this.props.data;\r\n    const categoryId = books[id].categoryId;\r\n    return (\r\n      <div className=\"book-info\" key={id}>\r\n        <p className=\"book-info__title\">{books[id].title}</p>\r\n        <ul className=\"book-info__authors\">Authors:\r\n          {\r\n            books[id].authorsIds.map(authorId => (\r\n              <li><Link to={`/authors/${authorId}`}>{authors[authorId].name}</Link></li>\r\n            ))\r\n          }\r\n        </ul>\r\n        <p className=\"book-info__category\">\r\n          Category: <br/>\r\n          <Link to={`/categories/${categoryId}`}>{categories[categoryId].name}</Link>\r\n        </p>\r\n        <p className=\"book-info__about\">\r\n          Short description: <br/>\r\n          {books[id].shortDescription}\r\n        </p>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookInfo;\r\n","import React, {Component} from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass AuthorInfo extends Component {\r\n  render() {\r\n    const authorId = +this.props.match.match.params.id;\r\n    const {authors, books} = this.props.data;\r\n    let authorsBooks = [];\r\n    for (let idKey in books) {\r\n      if (books[idKey].authorsIds.includes(authorId)) {\r\n        authorsBooks.push(+idKey);\r\n      }\r\n    }\r\n    console.log(authorsBooks);\r\n    return (\r\n      <div className=\"author-info\">\r\n        <p className=\"author-info__name\">\r\n          {authors[authorId].name}\r\n        </p>\r\n        <p className=\"author-info__biography\">\r\n          Biography: <br/>\r\n          {authors[authorId].biography}\r\n        </p>\r\n        <ul className=\"author-info__books\">\r\n          {\r\n            authorsBooks.map(bookId => (\r\n              <li key={bookId}>\r\n                <Link to={`/books/${bookId}`}>{books[bookId].title}</Link>\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthorInfo;\r\n","import React, {Component} from 'react';\r\nimport {  HashRouter } from 'react-router-dom';\r\n\r\nimport \"./BookCatalog.scss\";\r\nimport BooksList from \"../BooksList/BooksList\";\r\nimport AuthorsList from \"../AuthorsList/AuthorsList\";\r\nimport CategoriesList from \"../CategoriesList/CategoriesList\";\r\nimport Tabs from \"../Tabs/Tabs\";\r\nimport TabsContent from \"../TabsContent/TabsContent\";\r\nimport BookInfo from \"../BookInfo/BookInfo\";\r\nimport AuthorInfo from \"../AuthorInfo/AuthorInfo\";\r\n\r\nclass BookCatalog extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    error: false,\r\n    data: null,\r\n    routes: [\r\n      {\r\n        path: '/books',\r\n        component: (match) => <BooksList data={this.state.data} match={match}/>\r\n      },\r\n      {\r\n        path: '/books/:id',\r\n        component: (match) => <BookInfo match={match} data={this.state.data}/>,\r\n      },\r\n      {\r\n        path: '/authors',\r\n        component: () => <AuthorsList data={this.state.data}/>\r\n      },\r\n      {\r\n        path: '/authors/:id',\r\n        component: (match) => <AuthorInfo match={match} data={this.state.data}/>\r\n      },\r\n      {\r\n        path: '/categories',\r\n        component: () => <CategoriesList data={this.state.data}/>\r\n      },\r\n      {\r\n        path: '/categories/:id',\r\n        component: (match) => <BooksList match={match} data={this.state.data}/>\r\n      },\r\n\r\n    ],\r\n  };\r\n\r\n  normalizeData = (dataArray) => {\r\n    const dataObject = {};\r\n    dataArray.forEach((data) => {\r\n      dataObject[data.id] = {...data};\r\n    });\r\n    return dataObject;\r\n  };\r\n\r\n  getDatafromServer = async url => fetch(url)\r\n    .then(response => response.json());\r\n\r\n  loadData = async () => {\r\n    this.setState({\r\n      isLoading: true,\r\n      error: false,\r\n    });\r\n    try {\r\n      const [books, authors, categories] = await Promise.all([\r\n        this.getDatafromServer('https://raw.githubusercontent.com/olesyamogil/books/master/database/books.json'),\r\n        this.getDatafromServer('https://raw.githubusercontent.com/olesyamogil/books/master/database/authors.json'),\r\n        this.getDatafromServer('https://raw.githubusercontent.com/olesyamogil/books/master/database/categories.json'),\r\n      ]);\r\n\r\n      this.setState({\r\n        data: {\r\n          books: this.normalizeData(books),\r\n          authors: this.normalizeData(authors),\r\n          categories: this.normalizeData(categories),\r\n        },\r\n      });\r\n\r\n    } catch (e) {\r\n      this.setState({ error: true });\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadData();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.data === null) {\r\n      return (\r\n        <div className=\"errorMessage\">\r\n          {this.state.error\r\n            ? <p className=\"errorMessage__text\">Opps...Could not fetch data from server. Try again.</p>\r\n            : <p className=\"errorMessage__text\">Loading...</p>}\r\n          <button type=\"button\" onClick={this.loadData} className=\"errorMessage__button\">\r\n            Load data\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n     <HashRouter>\r\n       <header className=\"header\">\r\n         <h1 className=\"header__title\">Book Catalog</h1>\r\n         <Tabs tabs={Object.keys(this.state.data)}/>\r\n       </header>\r\n       <TabsContent content={this.state.routes} />\r\n     </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookCatalog;\r\n","import React from 'react';\nimport BookCatalog from \"./components/BookCatalog/BookCatalog\";\n\nfunction App() {\n  return (\n    <BookCatalog />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}