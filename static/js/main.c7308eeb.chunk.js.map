{"version":3,"sources":["components/BooksList/BooksList.js","components/AuthorsList/AuthorsList.js","components/CategoriesList/CategoriesList.js","components/Tabs/Tabs.js","components/TabsContent/TabsContent.js","components/BookInfo/BookInfo.js","components/AuthorInfo/AuthorInfo.js","components/Search/SearchExampleCategory.js","components/BookCatalog/BookCatalog.js","App.js","index.js"],"names":["BooksList","this","props","data","books","authors","categoryIdFilter","match","params","id","filteredBooks","idKey","categoryId","className","Object","keys","map","bookId","key","to","title","authorsIds","authorId","name","Component","AuthorsList","state","activeIndex","handleClick","e","titleProps","index","newIndex","setState","Accordion","Title","active","Number","onClick","Icon","Content","values","filter","book","includes","CategoriesList","categories","Tabs","tabs","tab","activeClassName","TabsContent","content","item","path","exact","render","component","BookInfo","shortDescription","AuthorInfo","authorsBooks","push","biography","initialState","isLoading","results","value","source","SearchExampleCategory","handleResultSelect","result","handleSearchChange","setTimeout","length","re","RegExp","_","escapeRegExp","isMatch","test","filteredResults","reduce","memo","Search","category","loading","onResultSelect","onSearchChange","debounce","leading","BookCatalog","error","routes","normalizeData","dataArray","dataObject","forEach","getDatafromServer","url","a","async","fetch","then","response","json","loadData","Promise","all","type","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c7308eeb.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BooksList extends Component {\r\n  render() {\r\n    const { books, authors } = this.props.data;\r\n    const categoryIdFilter = +this.props.match.match.params.id;\r\n    let filteredBooks = {};\r\n    if (categoryIdFilter) {\r\n      for (let idKey in books) {\r\n        if (books[idKey].categoryId === categoryIdFilter) {\r\n         filteredBooks[idKey] = books[idKey];\r\n        }\r\n      }\r\n    } else {\r\n      filteredBooks = books;\r\n    }\r\n    return (\r\n      <ol className=\"books-list\">\r\n        {Object.keys(filteredBooks).map(bookId => (\r\n          <li key={bookId}>\r\n            <div className=\"bookCard\">\r\n              <Link to={`/books/${bookId}`}>{filteredBooks[bookId].title}</Link>\r\n              <ul>Authors:\r\n                {\r\n                  filteredBooks[bookId].authorsIds.map(authorId => (\r\n                    <li key={authorId}><Link to={`/authors/${authorId}`}>{authors[authorId].name}</Link></li>\r\n                  ))\r\n                }\r\n              </ul>\r\n\r\n\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksList;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {Accordion, Icon} from \"semantic-ui-react\";\r\n\r\nclass AuthorsList extends Component {\r\n  state = {\r\n    activeIndex: 0,\r\n  };\r\n\r\n  handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const { activeIndex } = this.state;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n\r\n    this.setState({ activeIndex: newIndex })\r\n  };\r\n\r\n    render() {\r\n    const { authors, books } = this.props.data;\r\n    const { activeIndex } = this.state;\r\n\r\n    return (\r\n      <Accordion>\r\n        {Object.keys(authors).map(authorId => (\r\n          <>\r\n            <Accordion.Title\r\n              active={activeIndex === Number(authorId)}\r\n              index={Number(authorId)}\r\n              onClick={this.handleClick}\r\n            >\r\n              <Icon name='dropdown' />\r\n              {authors[authorId].name}\r\n            </Accordion.Title>\r\n            <Accordion.Content active={activeIndex === Number(authorId)}>\r\n              <Link to={`authors/${authorId}`}>Go to author`s page</Link>\r\n              {Object.values(books).filter(book => book.authorsIds.includes(Number(authorId)))\r\n                .map(book => (\r\n                <Link to={`/books/${book.id}`}>{books[book.id].title}</Link>\r\n                )\r\n              )}\r\n            </Accordion.Content>\r\n          </>\r\n        ))}\r\n      </Accordion>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthorsList;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass CategoriesList extends Component {\r\n  render() {\r\n    const { categories } = this.props.data;\r\n    return (\r\n      <ol className=\"categories-list\">\r\n        {Object.keys(categories).map(categoryId => (\r\n          <li key={categoryId}><Link to={`categories/${categoryId}`}>{categories[categoryId].name}</Link></li>\r\n        ))}\r\n      </ol>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CategoriesList;\r\n","import React, {Component} from 'react';\r\nimport \"./Tabs.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nclass Tabs extends Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"tabs\">\r\n        {\r\n          this.props.tabs.map(tab => (\r\n            <li key={tab}><NavLink className=\"tab\" activeClassName=\"tab-active\" to={`/${tab}`}>{tab}</NavLink></li>\r\n          ))\r\n        }\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tabs;\r\n","import React, {Component} from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport \"./TabsContent.scss\"\r\n\r\nclass TabsContent extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"tab-content\">\r\n        <Switch>\r\n          {this.props.content.map(item => (\r\n            <Route\r\n              key={item.path}\r\n              exact\r\n              path={item.path}\r\n              render={item.component}\r\n            />\r\n          ))}\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TabsContent;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass BookInfo extends Component {\r\n  render() {\r\n    const {id} = this.props.match.match.params;\r\n    const {books, authors, categories} = this.props.data;\r\n    const categoryId = books[id].categoryId;\r\n    return (\r\n      <div className=\"book-info\" key={id}>\r\n        <p className=\"book-info__title\">{books[id].title}</p>\r\n        <ul className=\"book-info__authors\">Authors:\r\n          {\r\n            books[id].authorsIds.map(authorId => (\r\n              <li><Link to={`/authors/${authorId}`}>{authors[authorId].name}</Link></li>\r\n            ))\r\n          }\r\n        </ul>\r\n        <p className=\"book-info__category\">\r\n          Category: <br/>\r\n          <Link to={`/categories/${categoryId}`}>{categories[categoryId].name}</Link>\r\n        </p>\r\n        <p className=\"book-info__about\">\r\n          Short description: <br/>\r\n          {books[id].shortDescription}\r\n        </p>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookInfo;\r\n","import React, {Component} from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass AuthorInfo extends Component {\r\n  render() {\r\n    const authorId = +this.props.match.match.params.id;\r\n    const {authors, books} = this.props.data;\r\n    let authorsBooks = [];\r\n    for (let idKey in books) {\r\n      if (books[idKey].authorsIds.includes(authorId)) {\r\n        authorsBooks.push(+idKey);\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"author-info\">\r\n        <p className=\"author-info__name\">\r\n          {authors[authorId].name}\r\n        </p>\r\n        <p className=\"author-info__biography\">\r\n          Biography: <br/>\r\n          {authors[authorId].biography}\r\n        </p>\r\n        <ul className=\"author-info__books\">\r\n          {\r\n            authorsBooks.map(bookId => (\r\n              <li key={bookId}>\r\n                <Link to={`/books/${bookId}`}>{books[bookId].title}</Link>\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthorInfo;\r\n","import _ from 'lodash';\nimport React, { Component } from 'react'\nimport { Search } from 'semantic-ui-react';\n\nconst initialState = { isLoading: false, results: [], value: '' };\n\nconst source = {\n  books: {\n    name: \"books\",\n    results: [\n      {\n        \"id\": 1,\n        \"title\": \"Unlocking Android\",\n      },\n      {\n        \"id\": 2,\n        \"title\": \"Android in Action, Second Edition\",\n      },\n      {\n        \"id\": 3,\n        \"title\": \"Flexible Rails\",\n      },\n      {\n        \"id\": 4,\n        \"title\": \"Hello! Flex 4\",\n      },\n      {\n        \"id\": 5,\n        \"title\": \"JSTL in Action\",\n      }\n    ],\n  },\n  authors: {\n    name: \"authors\",\n    results: [\n      {\n        \"id\": 1,\n        \"title\": \"W. Frank Ableson\",\n        \"biography\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam in arcu cursus euismod quis.\"\n      },\n      {\n        \"id\": 2,\n        \"title\": \"Peter Armstrong\",\n        \"biography\": \"Etiam non quam lacus suspendisse faucibus. Sagittis eu volutpat odio facilisis mauris sit. Nisl condimentum id venenatis a condimentum.\"\n      },\n      {\n        \"id\": 3,\n        \"title\": \"Shawn Bayern\",\n        \"biography\": \"Maecenas sed enim ut sem viverra aliquet eget sit amet. Massa id neque aliquam vestibulum morbi blandit cursus. Feugiat vivamus at augue eget arcu dictum varius duis at.\"\n      }\n    ],\n  },\n  categories: {\n    name: \"categories\",\n    results: [\n      {\n        \"id\": 1,\n        \"title\": \"Software Engineering\"\n      },\n      {\n        \"id\": 2,\n        \"title\": \"Internet\"\n      },\n      {\n        \"id\": 3,\n        \"title\": \"Web Development\"\n      }\n    ]\n  }\n};\n\nexport default class SearchExampleCategory extends Component {\n  state = initialState;\n\n  handleResultSelect = (e, { result }) => this.setState({ value: result.title });\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value });\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.setState(initialState);\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i');\n      const isMatch = (result) => re.test(result.title);\n\n      const filteredResults = _.reduce(\n        source,\n        (memo, data, name) => {\n          const results = _.filter(data.results, isMatch);\n          if (results.length) memo[name] = { name, results };\n          return memo\n        },\n        {},\n      );\n\n      this.setState({\n        isLoading: false,\n        results: filteredResults,\n      })\n    }, 300)\n  };\n\n  render() {\n    const { isLoading, value, results } = this.state;\n\n    return (\n      <Search\n        category\n        loading={isLoading}\n        onResultSelect={this.handleResultSelect}\n        onSearchChange={_.debounce(this.handleSearchChange, 500, {\n          leading: true,\n        })}\n        results={results}\n        value={value}\n        {...this.props}\n      />\n    )\n  }\n}\n","import React, {Component} from 'react';\r\nimport {  HashRouter } from 'react-router-dom';\r\n\r\nimport \"./BookCatalog.scss\";\r\nimport BooksList from \"../BooksList/BooksList\";\r\nimport AuthorsList from \"../AuthorsList/AuthorsList\";\r\nimport CategoriesList from \"../CategoriesList/CategoriesList\";\r\nimport Tabs from \"../Tabs/Tabs\";\r\nimport TabsContent from \"../TabsContent/TabsContent\";\r\nimport BookInfo from \"../BookInfo/BookInfo\";\r\nimport AuthorInfo from \"../AuthorInfo/AuthorInfo\";\r\nimport SearchExampleCategory from \"../Search/SearchExampleCategory\";\r\n\r\nclass BookCatalog extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    error: false,\r\n    data: null,\r\n    routes: [\r\n      {\r\n        path: '/books',\r\n        component: (match) => <BooksList data={this.state.data} match={match}/>\r\n      },\r\n      {\r\n        path: '/books/:id',\r\n        component: (match) => <BookInfo match={match} data={this.state.data}/>,\r\n      },\r\n      {\r\n        path: '/authors',\r\n        component: () => <AuthorsList data={this.state.data}/>\r\n      },\r\n      {\r\n        path: '/authors/:id',\r\n        component: (match) => <AuthorInfo match={match} data={this.state.data}/>\r\n      },\r\n      {\r\n        path: '/categories',\r\n        component: () => <CategoriesList data={this.state.data}/>\r\n      },\r\n      {\r\n        path: '/categories/:id',\r\n        component: (match) => <BooksList match={match} data={this.state.data}/>\r\n      },\r\n\r\n    ],\r\n  };\r\n\r\n  normalizeData = (dataArray) => {\r\n    const dataObject = {};\r\n    dataArray.forEach((data) => {\r\n      dataObject[data.id] = {...data};\r\n    });\r\n    return dataObject;\r\n  };\r\n\r\n  getDatafromServer = async url => fetch(url)\r\n    .then(response => response.json());\r\n\r\n  loadData = async () => {\r\n    this.setState({\r\n      isLoading: true,\r\n      error: false,\r\n    });\r\n    try {\r\n      const [books, authors, categories] = await Promise.all([\r\n        this.getDatafromServer('https://raw.githubusercontent.com/olesyamogil/books/master/database/books.json'),\r\n        this.getDatafromServer('https://raw.githubusercontent.com/olesyamogil/books/master/database/authors.json'),\r\n        this.getDatafromServer('https://raw.githubusercontent.com/olesyamogil/books/master/database/categories.json'),\r\n      ]);\r\n\r\n      this.setState({\r\n        data: {\r\n          books: this.normalizeData(books),\r\n          authors: this.normalizeData(authors),\r\n          categories: this.normalizeData(categories),\r\n        },\r\n      });\r\n\r\n    } catch (e) {\r\n      this.setState({ error: true });\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadData();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.data === null) {\r\n      return (\r\n        <div className=\"errorMessage\">\r\n          {this.state.error\r\n            ? <p className=\"errorMessage__text\">Opps...Could not fetch data from server. Try again.</p>\r\n            : <p className=\"errorMessage__text\">Loading...</p>}\r\n          <button type=\"button\" onClick={this.loadData} className=\"errorMessage__button\">\r\n            Load data\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n     <HashRouter>\r\n       <header className=\"page-header\">\r\n         <h1 className=\"page-header__title\">Book Catalog</h1>\r\n         <SearchExampleCategory />\r\n         <Tabs tabs={Object.keys(this.state.data)}/>\r\n       </header>\r\n       <TabsContent content={this.state.routes} />\r\n     </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookCatalog;\r\n","import React from 'react';\nimport BookCatalog from \"./components/BookCatalog/BookCatalog\";\n\nfunction App() {\n  return (\n    <BookCatalog />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}